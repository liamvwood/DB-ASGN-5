<!DOCTYPE html>
<html>

<head>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles/main.css">
</head>

<body ng-app="" ng-controller="">
    <div class="container">
        <div class="row">
            <h1>Southern Sierra Wildflower Club</h1>
        </div>
        <div class="row" ng-controller="">
            <div class="col-md-6">
                <div class="input-group" id="searchBar">
                    <!-- 
                    Implement a way to filter through listings using the search bar 
                  -->
                    <span class="input-group-addon" id="sizing-addon1"><span class="glyphicon glyphicon-search"></span></span>
                    <input type="text" ng-model="search" class="form-control" placeholder="Search">
                </div>
                <div class="tableWrapper">
                    <table class="table table-striped table-hover">
                        <tr>
                            <th>Common Name</th>
                            <th>Genus</th>
                            <th>Species</th>
                        </tr>
                        <!-- 
                      Fill in the rest of the table:
                          * populate the rows with the code and name of each listing
                          * include a way to remove individual listings
                    -->
                        <tr ng-repeat="flower in flowers | filter: search | orderBy: 'COMNAME'" ng-click="showDetails(flowers.indexOf(flower))">
                            <td class="comName">{{flower["COMNAME"]}}</td>
                            <td class="genus">{{flower["GENUS"]}}</td>
                            <td class="genus">{{flower["SPECIES"]}}></td>
                        </tr>
                    </table>
                </div>
                <!-- 
                  Write an HTML form that adds new listings to the directory 
                -->
                <form>
                    <div class="panel-group">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a data-toggle="collapse" href="#collapse1">Add a Sighting!</a>
                                </h4>
                            </div>
                            <div id="collapse1" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <div class="form-group">
                                        <label for="flowerName">Flower's Common Name</label>
                                        <input type="text" ng-model="entry.NAME" class="form-control" id="flowerName"
                                            aria-describedby="flowerName" placeholder="California flannelbush">
                                        <small id="flowerName" class="form-text text-muted">Enter the Flower's Common
                                            Name</small>
                                    </div>
                                    <div class="form-group">
                                        <label for="personName">Spotter's Name</label>
                                        <input type="text" ng-model="entry.PERSON" class="form-control" id="personName"
                                            aria-describedby="personName" placeholder="Alin Dobra">
                                        <small id="personName" class="form-text text-muted">Enter Your Full Name</small>
                                    </div>
                                    <div class="form-group">
                                        <label for="location">Location</label>
                                            <!-- Let's put a dropdown here of all locations for them to choose from -->
                                            <input type="text" class="form-control" ng-model="location_search" id="location" aria-describedby="location" placeholder="Scodie Mountains">
                                            <select class="form-control" ng-model="entry.LOCATION">
                                                <option ng-repeat="sighting in sightings | filter: location_search | orderBy: ">sighting.LOCATION</option>
                                            </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="dateSighted">Date Sighted</label>
                                        <input type="text" ng-model="entry.SIGHTED" class="form-control" id="dateSighted"
                                            aria-describedby="dateSighted" placeholder="2018-11-10">
                                        <small id="dateSighted" class="form-text text-muted"> Enter the Date Sighted in YEAR-MONTH-DAY</small>
                                    </div>
                                </div>
                                <div class="panel-footer">
                                    <button type="submit" ng-click="addListing()" class="btn btn-primary">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="col-md-6">
                <div class="jumbotron">
                    <h2>Detailed Information</h2>
                    <!-- 
                  Include a way to display detailed information about an individual listing:
                       * consider how to use ng-click within the the table to implement this feature
                 -->
                    <div id="moreInfo" class="collapse">
                        <div class="form-group">
                            <label for="buildingCode">Building Code</label>
                            <p>{{detailedInfo.code}}</p>
                        </div>
                        <div class="form-group">
                            <label for="buildingName">Building Name</label>
                            <p>{{detailedInfo.name}}</p>
                        </div>
                        <div ng-if="detailedInfo.coordinates !== undefined">
                            <div class="form-group">
                                <label for="coordinates">Coordinates</label>
                                <div class="form-group">
                                    <p>{{detailedInfo.coordinates.latitude}}</p>
                                </div>
                                <div class="form-group">
                                    <p>{{detailedInfo.coordinates.longitude}}</p>
                                </div>
                            </div>
                        </div>
                        <div ng-if="detailedInfo.address !== undefined">
                            <div class="form-group">
                                <label for="buildingAddress">Building Address</label>
                                <p>{{detailedInfo.address}}</p>
                            </div>
                        </div>
                        <button type="button" ng-click="deleteListing(listings.indexOf(detailedInfo))" class="btn btn-danger"
                            data-toggle="collapse" data-target="#moreInfo">Delete Listing</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Scripts -->
    <div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ=="
            crossorigin="anonymous"></script>

        <!-- Angular Includes -->
        <script src="https://code.angularjs.org/1.4.3/angular.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular-route.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular-animate.js"></script>
        <script src="https://unpkg.com/@uirouter/angularjs@1.0.20/release/angular-ui-router.min.js"></script>

        <!-- Ui Bootstrap Include -->
        <script src="public/lib/ui-bootstrap-tpls-2.5.0.min.js"></script>

        <!-- Angular Dependencies -->
        <script src="js/app.js"></script>

        <!-- Factories/Services -->
        <script src="js/services/authService.js"></script>
        <script src="js/services/featuresService.js"></script>
        <script src="js/services/flowersService.js"></script>
        <script src="js/services/sightingsService.js"></script>
        <script src="js/services/userService.js"></script>

        <!-- Controllers -->
        <script src="js/controllers/featuresController.js"></script>
        <script src="js/controllers/flowersController.js"></script>
        <script src="js/controllers/mainController.js"></script>
        <script src="js/controllers/sightingsController.js"></script>

    </div>
</body>

</html>